{"ast":null,"code":"import _objectSpread from\"/Users/guillaume/desktop-tutorial/P14_22_09_2021/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/guillaume/desktop-tutorial/P14_22_09_2021/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from\"react\";import{useForm,Controller}from\"react-hook-form\";import{ErrorMessage}from\"@hookform/error-message\";import{Modal}from\"gr-react-modal\";import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import states from\"../data/States\";import department from\"../data/Department\";import Select from\"react-select\";import customStyles from\"./Select/SelectStyle\";import firebase from\"../utils/firebaseConfig\";import gsap from\"gsap\";import employee from\"../assets/images/employee.png\";import document from\"../assets/images/document.png\";import{customButton,customContent}from'./modale/CustomModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FormsEmployee=function FormsEmployee(){// état de la modale\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var close=function close(){setActive(!active);};var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors,control=_useForm.control;var createEmployee=function createEmployee(inputData){var employeeDB=firebase.database().ref(\"create-employee\");var employee={birthDate:inputData.birthDate.toLocaleDateString(),startDate:inputData.startDate.toLocaleDateString(),city:inputData.city,department:inputData.department,firstName:inputData.firstName,lastName:inputData.lastName,states:inputData.states,street:inputData.street,zipCode:inputData.zipCode};employeeDB.push(employee);};var onSubmit=function onSubmit(data){console.log(data);createEmployee(data);setActive(true);// modale s'affiche\n};// animation forms\nvar leftforms=useRef(null);var rightforms=useRef(null);var button=useRef(null);var documentImg=useRef(null);useEffect(function(){gsap.from(leftforms.current,{x:\"-250%\",delay:1,duration:1});gsap.from(rightforms.current,{x:\"250%\",delay:1,duration:1});gsap.from(button.current,{y:\"-250%\",delay:1,duration:1});gsap.to(documentImg.current,{delay:3,y:\"500px\",duration:3});gsap.to(documentImg.current,{delay:6,x:\"-520px\",duration:3,opacity:0});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),action:\"#\",id:\"create-employee\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container_form\",children:[/*#__PURE__*/_jsxs(\"div\",{ref:leftforms,className:\"left_form_container\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"firstName\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"firstName\",{required:true})),{},{type:\"text\",id:\"firstName\",name:\"firstName\"})),/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"firstName\",message:\"Firstname is required\",render:function render(_ref){var message=_ref.message;return/*#__PURE__*/_jsx(\"span\",{className:\"error_message\",children:message});}}),/*#__PURE__*/_jsx(\"label\",{for:\"lastName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"lastName\",{required:true})),{},{type:\"text\",id:\"lastName\"})),/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"lastName\",message:\"Lastname is required\",render:function render(_ref2){var message=_ref2.message;return/*#__PURE__*/_jsx(\"span\",{className:\"error_message\",children:message});}}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-picker\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"birthDate\",children:\"Date of Birth\"}),/*#__PURE__*/_jsx(Controller,{name:\"birthDate\",defaultValue:null,control:control,render:function render(_ref3){var _ref3$field=_ref3.field,onChange=_ref3$field.onChange,value=_ref3$field.value;return/*#__PURE__*/_jsx(DatePicker,{required:true,name:\"birthDate\",selected:value,onChange:onChange,showYearDropdown:true,peekNextMonth:true,showMonthDropdown:true,dropdownMode:\"select\"});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-picker\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"startDate\",children:\"Start Date\"}),/*#__PURE__*/_jsx(Controller,{name:\"startDate\",defaultValue:null,control:control,render:function render(_ref4){var _ref4$field=_ref4.field,onChange=_ref4$field.onChange,value=_ref4$field.value;return/*#__PURE__*/_jsx(DatePicker,{required:true,selected:value,onChange:onChange,showYearDropdown:true,peekNextMonth:true,showMonthDropdown:true,dropdownMode:\"select\"});}})]}),/*#__PURE__*/_jsx(\"img\",{src:employee,alt:\"employee\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right_form_container\",ref:rightforms,children:[/*#__PURE__*/_jsxs(\"fieldset\",{class:\"address\",children:[/*#__PURE__*/_jsx(\"legend\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"label\",{for:\"street\",children:\"Street\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"street\",{required:true})),{},{id:\"street\",name:\"street\",type:\"text\"})),/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"street\",message:\"Street is required\",render:function render(_ref5){var message=_ref5.message;return/*#__PURE__*/_jsx(\"span\",{className:\"error_message\",children:message});}}),/*#__PURE__*/_jsx(\"label\",{for:\"city\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"city\",{required:true})),{},{id:\"city\",type:\"text\"})),/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"city\",message:\"City is required\",render:function render(_ref6){var message=_ref6.message;return/*#__PURE__*/_jsx(\"span\",{className:\"error_message\",children:message});}}),/*#__PURE__*/_jsx(\"label\",{for:\"states\",children:\"States\"}),/*#__PURE__*/_jsx(Controller,{control:control,name:\"states\",defaultValue:states[0].value,render:function render(_ref7){var _ref7$field=_ref7.field,_onChange=_ref7$field.onChange,value=_ref7$field.value,ref=_ref7$field.ref;return/*#__PURE__*/_jsx(Select,{inputRef:ref,styles:customStyles,options:states,value:states.find(function(c){return c.value===value;}),onChange:function onChange(val){return _onChange(val.value);}});}}),/*#__PURE__*/_jsx(\"label\",{for:\"zipCode\",children:\"Zip Code\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"zipCode\",{required:true})),{},{id:\"zip-code\",type:\"number\"})),/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"zipCode\",message:\"Zip code is required\",render:function render(_ref8){var message=_ref8.message;return/*#__PURE__*/_jsx(\"span\",{className:\"error_message\",children:message});}})]}),/*#__PURE__*/_jsx(\"label\",{for:\"department\",children:\"Department\"}),/*#__PURE__*/_jsx(Controller,{control:control,name:\"department\",defaultValue:department[0].value,render:function render(_ref9){var _ref9$field=_ref9.field,_onChange2=_ref9$field.onChange,value=_ref9$field.value,ref=_ref9$field.ref;return/*#__PURE__*/_jsx(Select,{inputRef:ref,styles:customStyles,options:department,value:department.find(function(c){return c.value===value;}),onChange:function onChange(val){return _onChange2(val.value);}});}})]}),/*#__PURE__*/_jsx(\"img\",{className:\"document_icons\",ref:documentImg,src:document,alt:\"document icons\"})]}),/*#__PURE__*/_jsx(\"button\",{ref:button,children:\"Save Employee\"})]}),/*#__PURE__*/_jsx(Modal,{close:close,open:active,showClose:true,modalContent:\" A new Employee is created !\",styleButton:customButton,styleContent:customContent,outside:true,escape:false})]})});};export default FormsEmployee;","map":{"version":3,"sources":["/Users/guillaume/desktop-tutorial/P14_22_09_2021/src/components/FormsEmployee.jsx"],"names":["React","useEffect","useRef","useState","useForm","Controller","ErrorMessage","Modal","DatePicker","states","department","Select","customStyles","firebase","gsap","employee","document","customButton","customContent","FormsEmployee","active","setActive","close","register","handleSubmit","errors","formState","control","createEmployee","inputData","employeeDB","database","ref","birthDate","toLocaleDateString","startDate","city","firstName","lastName","street","zipCode","push","onSubmit","data","console","log","leftforms","rightforms","button","documentImg","from","current","x","delay","duration","y","to","opacity","required","message","field","onChange","value","find","c","val"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { ErrorMessage } from \"@hookform/error-message\";\nimport { Modal } from \"gr-react-modal\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport states from \"../data/States\";\nimport department from \"../data/Department\";\nimport Select from \"react-select\";\nimport customStyles from \"./Select/SelectStyle\";\nimport firebase from \"../utils/firebaseConfig\";\nimport gsap from \"gsap\";\nimport employee from \"../assets/images/employee.png\";\nimport document from \"../assets/images/document.png\";\nimport {customButton, customContent} from './modale/CustomModal'\n\nconst FormsEmployee = () => {\n\n  // état de la modale\n  const [active, setActive] = useState(false);\n\n  const close = () => {\n    setActive(!active);\n  };\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n\n    control,\n  } = useForm();\n\n  const createEmployee = (inputData) => {\n    const employeeDB = firebase.database().ref(\"create-employee\");\n\n    const employee = {\n      birthDate: inputData.birthDate.toLocaleDateString(),\n      startDate: inputData.startDate.toLocaleDateString(),\n      city: inputData.city,\n      department: inputData.department,\n      firstName: inputData.firstName,\n      lastName: inputData.lastName,\n      states: inputData.states,\n      street: inputData.street,\n      zipCode: inputData.zipCode,\n    };\n    employeeDB.push(employee);\n  };\n\n  const onSubmit = (data) => {\n    console.log(data);\n    createEmployee(data);\n    setActive(true) // modale s'affiche\n  };\n\n  // animation forms\n  const leftforms = useRef(null);\n  const rightforms = useRef(null);\n  const button = useRef(null);\n  const documentImg = useRef(null);\n\n  useEffect(() => {\n    gsap.from(leftforms.current, {\n      x: \"-250%\",\n      delay: 1,\n      duration: 1,\n    });\n\n    gsap.from(rightforms.current, {\n      x: \"250%\",\n      delay: 1,\n      duration: 1,\n    });\n    gsap.from(button.current, {\n      y: \"-250%\",\n      delay: 1,\n      duration: 1,\n    });\n    gsap.to(documentImg.current, {\n      delay: 3,\n      y: \"500px\",\n      duration: 3,\n    });\n    gsap.to(documentImg.current, {\n      delay: 6,\n      x: \"-520px\",\n      duration: 3,\n      opacity: 0,\n    });\n  }, []);\n\n  return (\n    <>\n      <div class=\"container\">\n        <form onSubmit={handleSubmit(onSubmit)} action=\"#\" id=\"create-employee\">\n          <div className=\"container_form\">\n            <div ref={leftforms} className=\"left_form_container\">\n              <label for=\"firstName\">First Name</label>\n              <input\n                {...register(\"firstName\", { required: true })}\n                type=\"text\"\n                id=\"firstName\"\n                name=\"firstName\"\n              />\n              <ErrorMessage\n                errors={errors}\n                name=\"firstName\"\n                message=\"Firstname is required\"\n                render={({ message }) => (\n                  <span className=\"error_message\">{message}</span>\n                )}\n              />\n\n              <label for=\"lastName\">Last Name</label>\n              <input\n                {...register(\"lastName\", { required: true })}\n                type=\"text\"\n                id=\"lastName\"\n              />\n              <ErrorMessage\n                errors={errors}\n                name=\"lastName\"\n                message=\"Lastname is required\"\n                render={({ message }) => (\n                  <span className=\"error_message\">{message}</span>\n                )}\n              />\n\n              <div className=\"container-picker\">\n                <label for=\"birthDate\">Date of Birth</label>\n\n                <Controller\n                  name=\"birthDate\"\n                  defaultValue={null}\n                  control={control}\n                  render={({ field: { onChange, value } }) => (\n                    <DatePicker\n                      required\n                      name=\"birthDate\"\n                      selected={value}\n                      onChange={onChange}\n                      showYearDropdown\n                      peekNextMonth\n                      showMonthDropdown\n                      dropdownMode=\"select\"\n                    />\n                  )}\n                />\n              </div>\n              <div className=\"container-picker\">\n                <label for=\"startDate\">Start Date</label>\n\n                <Controller\n                  name=\"startDate\"\n                  defaultValue={null}\n                  control={control}\n                  render={({ field: { onChange, value } }) => (\n                    <DatePicker\n                      required\n                      selected={value}\n                      onChange={onChange}\n                      showYearDropdown\n                      peekNextMonth\n                      showMonthDropdown\n                      dropdownMode=\"select\"\n                    />\n                  )}\n                />\n              </div>\n              <img src={employee} alt=\"employee\" />\n            </div>\n\n            <div className=\"right_form_container\" ref={rightforms}>\n              <fieldset class=\"address\">\n                <legend>Address</legend>\n\n                <label for=\"street\">Street</label>\n                <input\n                  {...register(\"street\", { required: true })}\n                  id=\"street\"\n                  name=\"street\"\n                  type=\"text\"\n                />\n                <ErrorMessage\n                  errors={errors}\n                  name=\"street\"\n                  message=\"Street is required\"\n                  render={({ message }) => (\n                    <span className=\"error_message\">{message}</span>\n                  )}\n                />\n\n                <label for=\"city\">City</label>\n                <input\n                  {...register(\"city\", { required: true })}\n                  id=\"city\"\n                  type=\"text\"\n                />\n                <ErrorMessage\n                  errors={errors}\n                  name=\"city\"\n                  message=\"City is required\"\n                  render={({ message }) => (\n                    <span className=\"error_message\">{message}</span>\n                  )}\n                />\n\n                <label for=\"states\">States</label>\n                <Controller\n                  control={control}\n                  name=\"states\"\n                  defaultValue={states[0].value}\n                  render={({ field: { onChange, value, ref } }) => (\n                    <Select\n                      inputRef={ref}\n                      styles={customStyles}\n                      options={states}\n                      value={states.find((c) => c.value === value)}\n                      onChange={(val) => onChange(val.value)}\n                    />\n                  )}\n                />\n\n                <label for=\"zipCode\">Zip Code</label>\n                <input\n                  {...register(\"zipCode\", { required: true })}\n                  id=\"zip-code\"\n                  type=\"number\"\n                />\n                <ErrorMessage\n                  errors={errors}\n                  name=\"zipCode\"\n                  message=\"Zip code is required\"\n                  render={({ message }) => (\n                    <span className=\"error_message\">{message}</span>\n                  )}\n                />\n              </fieldset>\n\n              <label for=\"department\">Department</label>\n              <Controller\n                control={control}\n                name=\"department\"\n                defaultValue={department[0].value}\n                render={({ field: { onChange, value, ref } }) => (\n                  <Select\n                    inputRef={ref}\n                    styles={customStyles}\n                    options={department}\n                    value={department.find((c) => c.value === value)}\n                    onChange={(val) => onChange(val.value)}\n                  />\n                )}\n              />\n            </div>\n            <img\n              className=\"document_icons\"\n              ref={documentImg}\n              src={document}\n              alt=\"document icons\"\n            />\n          </div>\n          <button  ref={button}>\n            Save Employee\n          </button>\n        </form>\n        <Modal\n    close = {close}\n    open = {active}\n    showClose = {true}\n    modalContent=\" A new Employee is created !\"\n    styleButton = {customButton}\n    styleContent = {customContent}\n    outside={true}\n    escape={false}\n/>\n      </div>\n    </>\n  );\n};\n\nexport default FormsEmployee;\n"]},"metadata":{},"sourceType":"module"}