{"ast":null,"code":"import _objectSpread from\"/Users/guillaume/desktop-tutorial/P14_22_09_2021/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useContext,useEffect,useRef,useState}from\"react\";import{useForm,Controller}from\"react-hook-form\";import{ErrorMessage}from\"@hookform/error-message\";import logo from\"../assets/images/logo2.png\";import firebase from\"../utils/firebaseConfig\";import{AuthContext}from\"../utils/AuthProvider\";import{Redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){// react-hook-forms\nvar _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;// login with firebase\nvar onSubmitLogin=function onSubmitLogin(data){console.log(data);firebase.auth().signInWithEmailAndPassword(data.username,data.password).then(function(userCredential){// Signed in \nvar userLogin=userCredential.user;console.log(userLogin);}).catch(function(error){console.log(error);});};var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;if(currentUser){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper-login\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"logo-login\",src:logo,alt:\"logo de Hrnet\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmitLogin),className:\"login-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-login-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"username\",{required:true})),{},{type:\"text\",id:\"username\",name:\"username\"})),/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"username\",message:\"Username is required\",render:function render(_ref){var message=_ref.message;return/*#__PURE__*/_jsx(\"span\",{className:\"error_message\",children:message});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-login-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"password\",{required:true})),{},{type:\"password\",id:\"password\",name:\"password\"})),/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"password\",message:\"Password is required\",render:function render(_ref2){var message=_ref2.message;return/*#__PURE__*/_jsx(\"span\",{className:\"error_message\",children:message});}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"login-btn\",children:\"Login\"})]})]})]})});};export default Login;","map":{"version":3,"sources":["/Users/guillaume/desktop-tutorial/P14_22_09_2021/src/Pages/Login.jsx"],"names":["React","useContext","useEffect","useRef","useState","useForm","Controller","ErrorMessage","logo","firebase","AuthContext","Redirect","Login","register","handleSubmit","errors","formState","onSubmitLogin","data","console","log","auth","signInWithEmailAndPassword","username","password","then","userCredential","userLogin","user","catch","error","currentUser","required","message"],"mappings":"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","sourcesContent":["\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { ErrorMessage } from \"@hookform/error-message\";\nimport logo from \"../assets/images/logo2.png\";\nimport firebase from \"../utils/firebaseConfig\";\nimport { AuthContext } from \"../utils/AuthProvider\";\nimport { Redirect } from \"react-router-dom\";\n\n\n\nconst Login = () => {\n// react-hook-forms\nconst {\n    register,\n    handleSubmit,\n    formState: { errors },\n\n  } = useForm();\n\n// login with firebase\n   const onSubmitLogin = (data) => {\n     console.log(data);\n    firebase.auth().signInWithEmailAndPassword(data.username,data.password)\n    .then((userCredential) => {\n      // Signed in \n      const userLogin = userCredential.user;\n      console.log(userLogin)\n      \n    })\n    .catch((error) => {\n      console.log(error)\n    });\n \n  \n   \n  };\n\n  const {currentUser}=useContext(AuthContext)\n\nif (currentUser){\nreturn <Redirect to='/'/>\n\n}\n    return (\n\n      <>\n      {/* {userLogin && <span>'je suis connecter'</span>} */}\n      <div className='wrapper-login'>\n        <img className=\"logo-login\" src={logo} alt=\"logo de Hrnet\" />\n        <form onSubmit={handleSubmit(onSubmitLogin)} className=\"login-container\">\n        <div className=\"header\">\n          Login\n        </div>\n        <div className=\"box\">\n\n          <div className=\"input-login-group\">\n            <label htmlFor=\"username\">Username</label>\n            <input\n                {...register(\"username\", { required: true })}\n                type=\"text\"\n                id=\"username\"\n                name=\"username\"\n              />\n                 <ErrorMessage\n                errors={errors}\n                name=\"username\"\n                message=\"Username is required\"\n                render={({ message }) => (\n                  <span className=\"error_message\">{message}</span>\n                )}\n              />\n          </div>\n\n          <div className=\"input-login-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n                {...register(\"password\", { required: true })}\n                type=\"password\"\n                id=\"password\"\n                name=\"password\"\n              />\n                <ErrorMessage\n                errors={errors}\n                name=\"password\"\n                message=\"Password is required\"\n                render={({ message }) => (\n                  <span className=\"error_message\">{message}</span>\n                )}\n              />\n          </div>\n\n          <button\n            className=\"login-btn\"\n            >Login</button>\n        </div>\n      </form>\n      </div>\n      </>\n    );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}